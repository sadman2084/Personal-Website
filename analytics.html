<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Analytics — Sadman Portfolio</title>
    <meta name="description" content="Analytics view for Sadman's portfolio." />
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="site-header">
      <div class="container header-inner">
        <a class="logo" href="index.html">Sadman</a>
        <nav class="nav">
          <a href="index.html#about">About</a>
          <a href="index.html#projects">Projects</a>
          <a href="analytics.html">Analytics</a>
          <a href="index.html#skills">Skills</a>
          <a href="index.html#contact">Contact</a>
          <a href="inventory.html">Inventory</a>
        </nav>
        <a class="btn-outline" href="index.html#contact">Hire Me</a>
      </div>
    </header>

    <main>
      <section class="section container">
        <p class="eyebrow">Analytics</p>
        <h1>Site Insights</h1>
        <p class="muted-text">Demo analytics snapshot. Replace with your backend feed when ready.</p>
        <div class="hero-cta" style="margin-top:1.25rem;">
          <a class="btn" href="index.html#projects">Back to portfolio</a>
          <a class="btn-light" href="index.html#contact">Contact</a>
        </div>
      </section>

      <section id="analytics" class="section container analytics-section">
        <div class="section-heading">
          <div>
            <p class="eyebrow">Overview</p>
            <h2>Key metrics</h2>
            <p class="muted-text">Traffic, engagement, and health at a glance.</p>
          </div>
          <span class="pill subtle">Demo data</span>
        </div>

        <div class="analytics-grid" aria-live="polite">
          <article class="metric-card">
            <p class="metric-label">Total visits</p>
            <p class="metric-value" id="metric-visits">--</p>
            <p class="metric-trend" id="trend-visits">--</p>
          </article>

          <article class="metric-card">
            <p class="metric-label">Unique visitors</p>
            <p class="metric-value" id="metric-unique">--</p>
            <p class="metric-trend" id="trend-unique">--</p>
          </article>

          <article class="metric-card">
            <p class="metric-label">Avg. session duration</p>
            <p class="metric-value" id="metric-duration">--</p>
            <p class="metric-trend" id="trend-duration">--</p>
          </article>

          <article class="metric-card">
            <p class="metric-label">Conversion rate</p>
            <p class="metric-value" id="metric-conversion">--</p>
            <p class="metric-trend" id="trend-conversion">--</p>
          </article>

          <article class="metric-card">
            <p class="metric-label">Bounce rate</p>
            <p class="metric-value" id="metric-bounce">--</p>
            <p class="metric-trend" id="trend-bounce">--</p>
          </article>
        </div>

        <div class="panel-grid">
          <article class="panel">
            <div class="panel-header">
              <div>
                <p class="eyebrow">Content</p>
                <h3>Top pages</h3>
              </div>
              <span class="pill">Views</span>
            </div>
            <ul class="list" id="top-pages-list">
              <li class="list-row">Loading...</li>
            </ul>
          </article>

          <article class="panel">
            <div class="panel-header">
              <div>
                <p class="eyebrow">Engagement</p>
                <h3>Events & health</h3>
              </div>
              <span class="pill">Live</span>
            </div>
            <div class="stat-grid">
              <div class="stat">
                <p class="stat-label">Project clicks</p>
                <p class="stat-value" id="stat-project-clicks">--</p>
              </div>
              <div class="stat">
                <p class="stat-label">Contact submits</p>
                <p class="stat-value" id="stat-contact-submits">--</p>
              </div>
              <div class="stat">
                <p class="stat-label">Resume downloads</p>
                <p class="stat-value" id="stat-resume-downloads">--</p>
              </div>
              <div class="stat">
                <p class="stat-label">404s (24h)</p>
                <p class="stat-value" id="stat-404s">--</p>
              </div>
              <div class="stat">
                <p class="stat-label">JS error rate</p>
                <p class="stat-value" id="stat-js-errors">--</p>
              </div>
              <div class="stat">
                <p class="stat-label">Avg. load</p>
                <p class="stat-value" id="stat-load">--</p>
              </div>
              <div class="stat">
                <p class="stat-label">LCP</p>
                <p class="stat-value" id="stat-lcp">--</p>
              </div>
              <div class="stat">
                <p class="stat-label">CLS</p>
                <p class="stat-value" id="stat-cls">--</p>
              </div>
            </div>
          </article>
        </div>

        <article class="panel sources-panel">
          <div class="panel-header">
            <div>
              <p class="eyebrow">Acquisition</p>
              <h3>Traffic sources</h3>
            </div>
            <span class="pill">Share</span>
          </div>
          <div id="sources-list" class="sources-list">
            <p class="muted-text">Loading...</p>
          </div>
        </article>
      </section>
    </main>

    <footer class="site-footer">
      <div class="container footer-inner">
        <p>© <span id="year"></span> Your Name. Built with care.</p>
        <nav class="footer-nav">
          <a href="#">Privacy</a>
          <a href="#">Terms</a>
        </nav>
      </div>
    </footer>

    <script>
      document.getElementById('year').textContent = new Date().getFullYear();

      window.addEventListener('DOMContentLoaded', () => {
        loadAnalytics();
      });

      function loadAnalytics() {
        const analyticsData = {
          totals: {
            visits: 12400,
            unique: 8300,
            avgDurationMinutes: 3.8,
            conversionRate: 4.7,
            bounceRate: 38
          },
          trends: {
            visits: 12,
            unique: 7,
            duration: 6,
            conversion: 1.4,
            bounce: -3
          },
          events: {
            projectClicks: 142,
            contactSubmits: 32,
            resumeDownloads: 18
          },
          performance: {
            load: '1.1s',
            lcp: '2.3s',
            cls: '0.08'
          },
          errors: {
            notFound: 4,
            jsErrorRate: 0.3
          },
          sources: [
            { label: 'Organic search', percent: 48 },
            { label: 'Direct', percent: 22 },
            { label: 'Social', percent: 16 },
            { label: 'Referral', percent: 9 },
            { label: 'Email', percent: 5 }
          ],
          topPages: [
            { title: 'Home', views: 5400, avgTime: '2m 10s', exitRate: '22%' },
            { title: 'Projects', views: 3800, avgTime: '2m 45s', exitRate: '18%' },
            { title: 'Inventory', views: 1400, avgTime: '1m 20s', exitRate: '29%' },
            { title: 'Contact', views: 960, avgTime: '1m 05s', exitRate: '9%' }
          ]
        };

        const formatNumber = value => value.toLocaleString();

        const setMetric = (id, value) => {
          const el = document.getElementById(id);
          if (el) el.textContent = value;
        };

        const setTrend = (id, delta) => {
          const el = document.getElementById(id);
          if (!el) return;

          const direction = delta >= 0 ? 'up' : 'down';
          el.className = `metric-trend ${direction}`;
          el.textContent = `${delta >= 0 ? '+' : ''}${delta}% vs last week`;
        };

        setMetric('metric-visits', formatNumber(analyticsData.totals.visits));
        setMetric('metric-unique', formatNumber(analyticsData.totals.unique));
        setMetric('metric-duration', `${analyticsData.totals.avgDurationMinutes} min`);
        setMetric('metric-conversion', `${analyticsData.totals.conversionRate}%`);
        setMetric('metric-bounce', `${analyticsData.totals.bounceRate}%`);

        setTrend('trend-visits', analyticsData.trends.visits);
        setTrend('trend-unique', analyticsData.trends.unique);
        setTrend('trend-duration', analyticsData.trends.duration);
        setTrend('trend-conversion', analyticsData.trends.conversion);
        setTrend('trend-bounce', analyticsData.trends.bounce);

        setMetric('stat-project-clicks', formatNumber(analyticsData.events.projectClicks));
        setMetric('stat-contact-submits', formatNumber(analyticsData.events.contactSubmits));
        setMetric('stat-resume-downloads', formatNumber(analyticsData.events.resumeDownloads));
        setMetric('stat-404s', formatNumber(analyticsData.errors.notFound));
        setMetric('stat-js-errors', `${analyticsData.errors.jsErrorRate}%`);
        setMetric('stat-load', analyticsData.performance.load);
        setMetric('stat-lcp', analyticsData.performance.lcp);
        setMetric('stat-cls', analyticsData.performance.cls);

        const pagesList = document.getElementById('top-pages-list');
        if (pagesList) {
          pagesList.innerHTML = analyticsData.topPages.map(page => `
            <li class="list-row">
              <div>
                <strong>${page.title}</strong>
                <p class="muted-text">${formatNumber(page.views)} views · ${page.avgTime}</p>
              </div>
              <span class="pill subtle">${page.exitRate} exits</span>
            </li>
          `).join('');
        }

        const sourcesList = document.getElementById('sources-list');
        if (sourcesList) {
          sourcesList.innerHTML = analyticsData.sources.map(source => `
            <div class="source-row">
              <span>${source.label}</span>
              <div class="source-bar" aria-hidden="true"><span style="width:${source.percent}%"></span></div>
              <span class="source-value">${source.percent}%</span>
            </div>
          `).join('');
        }
      }
    </script>
  </body>
</html>
